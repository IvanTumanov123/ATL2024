# ATL2024
# Задание 1

**Выполните базовую настройку всех устройств:**

**a. Соберите топологию согласно рисунку. Все устройства работают на OC Linux – ALT**

   **· ISP - Альт Сервер 10.2 (CLI)**

   **· CLI - Альт Рабочая станция 10.2 (GUI)**

   **· HQ-R - Альт Сервер 10.2 (CLI)**

   **· HQ-SRV - Альт Сервер 10.2 (GUI)**

   **· BR-R - Альт Сервер 10.2 (CLI)**

   **· BR-SRV - Альт Сервер 10.2 (CLI)**
**b. Присвоить имена в соответствии с топологией**

**c. Рассчитайте IP-адресацию IPv4. Необходимо заполнить таблицу №1. При необходимости отредактируйте таблицу.**

**d. Пул адресов для сети офиса BRANCH - не более 16. Для IPv6 пропустите этот пункт.**

**e. Пул адресов для сети офиса HQ - не более 64.** 

# Таблица
|Имя устройства  |Интерфейс           |IPv4            |Маска/Префикс   |Шлюз            |
|  ------------- | -------------      | -------------  |  ------------- |  ------------- |
|ISP             |ens33               |10.12.29.10     |/24             |10.12.29.254    |
|                |ens35               |192.168.0.165   |/30             |                |
|                |ens36               |192.168.0.161   |/30             |                |
|HQ-R            |ens33               |192.168.0.166   |/30             |192.168.0.165   |
|                |ens35               |192.168.0.1     |/25             |                |
|BR-R            |ens33               |192.168.0.162   |/30             |192.168.0.161   |
|                |ens35               |192.168.0.129   |/27             |                |
|HQ-SRV          |ens33               |192.168.0.2     |/25             |192.168.0.1     |
|BR-SRV          |ens33               |192.168.0.156   |/27             |192.168.0.129   |
|CLI             |ens224              |192.168.0.      |/27             |                |

**Пример: HQ-R**

Сначала я присваиваю IP-адреса
```
echo 192.168.0.166/30 > /etc/net/ifaces/ens33/ipv4address
```
Далее я присваиваю шлюз
```
echo default via 192.168.0.165 > /etc/net/ifaces/ens33/ipv4route
```
Меняю параметры интерфесов
```
nano /etc/net/ifaces/ens33/options
```
```
BOOTPROTO=static
TYPE=eth
NM_CONTROLLED=no
DISABLED=no
CONFIG_WIRELESS=no
SYSTEMD_BOOTPROTO=dhcp4
CONFIG_IPV4=yes
SYSTEMD_CONTROLLED=no
```
После чего, я перезагружаю адаптер
```
systemctl restart network
```
**Такие же действия я выполняю на остальных машинах**

# Задание 2
**Настройте внутреннюю динамическую маршрутизацию по средствам FRR. Выберите и обоснуйте выбор протокола динамической маршрутизации из расчёта, что в дальнейшем сеть будет масштабироваться.**
**Пример: HQ-R.**

Сначала я устанавливаю утилиту frr
```
apt-get install frr
```
Далее я включаю ospf
```
nano /etc/frr/daemons
```
```
ospfd=no
```
Меняю на
```
ospfd=yes
```
После этого я захожу в конфигурацию роутера
```
vtysh
```
Захожу в конфиг
```
conf t
```
Далее в 
```
router ospf
```
И прописываю 
```
network 192.168.0.162/30 area 0
```
Далее я сохраняю конфигурацию
```
do w
```
# Туннели
**Пример на HQ-R:**

Я создаю директорию
```
mkdir /etc/net/ifaces/tun1
```
Затем захожу в файл options
```
nano /etc/net/ifaces/tun1/options
```
И пишу 
```
TYPE=iptun
TUNTYPE=gre
TUNLOCAL=192.168.0.166
TUNREMOTE=192.168.0.162
TUNOPTION='ttl 64'
HOST=ens33
```
Далее я назначаю IP-адреса
```
echo 172.16.0.1/30 > /etc/net/ifaces/tun1/ipv4address
```
И назначаю шлюз
```
echo default via 172.16.0.0 > /etc/net/ifaces/tun1/ipv4route
```
# Задание 4
**Настройте локальные учётные записи на всех устройствах в соответствии с таблицей.**

# Таблица
|Учётная запись  |Пароль           |Примечания         |
|  ------------- | -------------      | -------------  |  
|Admin           |P@ssw0rd            |ISP HQ-SRV HQ-R |
|Branch admin    |P@ssw0rd            |BR-SRV BR-R     |
|Network admin   |P@ssw0rd            |HQ-R BR-R BR-SRV|

Сначала я создаю пользователя
```
useradd admin
```
После этого я задаю пароль пользователю
```
passwd admin
Введите новый пароль: P@ssw0rd
Повторите пароль:P@ssw0rd
```
**Такие же действия я повторяю с другими машинами**
